<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId: '1394636678360665',
      cookie: true,
      xfbml: true,
      version: 'v19.0'
    });
    FB.getLoginStatus(statusChangeCallback);
  };

  function statusChangeCallback(response) {
    const status = document.getElementById('status');
    const post = document.getElementById('post');
    const share = document.getElementById('shareBtn');
    const login = document.getElementById('loginBtn');
    if (response.status === 'connected') {
      status.innerText = 'Logged in!';
      post.disabled = false;
      share.disabled = false;
      login.style.display = 'none';
    } else {
      status.innerText = 'Please log in.';
      post.disabled = true;
      share.disabled = true;
      login.style.display = 'block';
    }
  }

  document.getElementById('loginBtn').onclick = function() {
    FB.login(statusChangeCallback, {scope: 'publish_to_groups'});
  };

  function shareToFacebook() {
    const post = document.getElementById('post').value;
    FB.api('/me/feed', 'POST', { message: post }, function(response) {
      document.getElementById('status').innerText = response.error ? 'Post failed: ' + response.error.message : 'Posted!';
    });
  }
</script>
